<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcanum Aeterna - Anti-Gravity Edition</title>
    <meta name="description" content="The Master Mystic Tarot Experience">
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Noto+Serif+Thai:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Matter.js Physics Engine -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
</head>

<body>

    <!-- Parallax Background Layer -->
    <div id="parallax-bg" class="parallax-layer"></div>
    <div id="stars-fg" class="parallax-layer"></div>

    <!-- Background Audio -->
    <audio id="bg-music" src="Sound.mp3" loop></audio>


    <!-- Physics Canvas Container -->
    <div id="physics-container"></div>

    <!-- Top Controls (Glassmorphism) -->
    <div class="top-controls glass-panel">
        <div class="lang-switch">
            <button id="lang-en" class="lang-btn active" data-lang="en">EN</button>
            <span class="divider">|</span>
            <button id="lang-th" class="lang-btn" data-lang="th">TH</button>
        </div>
        <div class="audio-switch">
            <button id="btn-sound" class="icon-btn" aria-label="Toggle Sound">ðŸ”‡</button>
        </div>
    </div>

    <header class="glass-header">
        <h1 id="app-title" class="glowing-text">Arcanum Aeterna</h1>
        <div id="app-subtitle" class="subtitle">The Master Mystic Tarot</div>
    </header>

    <!-- Floating Action Bar -->
    <div class="control-panel glass-panel-floating">
        <button id="btn-shuffle" class="action-btn">Shuffle Deck</button>
        <button id="btn-draw" class="action-btn">Draw Card</button>
        <button id="btn-reset" class="action-btn">Reset Table</button>
        <button id="btn-history" class="action-btn">View History ðŸ“œ</button>
    </div>

    <!-- Status Toast -->
    <div id="status-display" aria-live="polite"></div>

    <!-- Overlay UI for Reading (Grid Mode) functionality is handled via Physics logic now, but we keep a container for reading overlay if needed -->
    <div id="reading-overlay" class="reading-layer">
        <!-- Reading slots populated by JS when cards snap -->
    </div>

    <!-- History Modal (Glassmorphism) -->
    <div id="history-modal" class="modal">
        <div class="modal-content glass-modal">
            <button id="close-history" class="close-btn" aria-label="Close History">Ã—</button>
            <div id="history-title" class="history-title">Session History</div>
            <ul id="history-list">
                <!-- Items injected via JS -->
            </ul>

            <!-- AI Copy Section -->
            <div class="ai-control-section">
                <div id="ai-title" class="ai-title">Ask the AI Mystic</div>
                <div class="input-group">
                    <label for="ai-topic" id="lbl-topic" class="input-label">Topic:</label>
                    <select id="ai-topic" class="mystic-input">
                        <option value="General Overview">General Overview</option>
                        <option value="Love & Relationships">Love</option>
                        <option value="Work & Career">Work</option>
                        <option value="Finance">Finance</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ai-situation" id="lbl-situation" class="input-label">Situation:</label>
                    <textarea id="ai-situation" class="mystic-input" placeholder="..."></textarea>
                </div>
                <button id="btn-copy-ai" class="action-btn ai-copy-btn rune-btn">Copy Prompt</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>